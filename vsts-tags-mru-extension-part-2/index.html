<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v9.1.6 <https://hydejack.com/>
--><head><title>VSTS Tags MRU extension – Part 2 | cschleiden</title><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="VSTS Tags MRU extension – Part 2" /><meta name="author" content="Christopher Schleiden" /><meta property="og:locale" content="en" /><meta name="description" content="In the last post we ended up with a list of tags a user added last to a work item. The next step is now to keep an MRU list with tags from earlier sessions and update it when new tags are added." /><meta property="og:description" content="In the last post we ended up with a list of tags a user added last to a work item. The next step is now to keep an MRU list with tags from earlier sessions and update it when new tags are added." /><link rel="canonical" href="https://cschleiden.dev/vsts-tags-mru-extension-part-2/" /><meta property="og:url" content="https://cschleiden.dev/vsts-tags-mru-extension-part-2/" /><meta property="og:site_name" content="cschleiden" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2016-02-29T05:46:11+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="VSTS Tags MRU extension – Part 2" /><meta name="twitter:site" content="@cschleiden" /><meta name="twitter:creator" content="@Christopher Schleiden" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Christopher Schleiden"},"dateModified":"2023-01-16T02:35:41+00:00","datePublished":"2016-02-29T05:46:11+00:00","description":"In the last post we ended up with a list of tags a user added last to a work item. The next step is now to keep an MRU list with tags from earlier sessions and update it when new tags are added.","headline":"VSTS Tags MRU extension – Part 2","mainEntityOfPage":{"@type":"WebPage","@id":"https://cschleiden.dev/vsts-tags-mru-extension-part-2/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://cschleiden.dev/assets/icons/icon.png"},"name":"Christopher Schleiden"},"url":"https://cschleiden.dev/vsts-tags-mru-extension-part-2/"}</script><meta name="theme-color" content="rgb(25,55,71)"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="cschleiden"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="application-name" content="cschleiden"><meta name="generator" content="Hydejack v9.1.6" /><link rel="alternate" href="https://cschleiden.dev/vsts-tags-mru-extension-part-2/" hreflang="en"><link type="application/atom+xml" rel="alternate" href="https://cschleiden.dev/feed.xml" title="cschleiden" /><link rel="shortcut icon" href="/assets/icons/favicon.ico"><link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG"> <script>!function(r,c){"use strict";function a(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=c.createElement("script"),e=(n.src=e,t&&a(n,"load",t,{once:!0}),c.scripts[0]);return e.parentNode.insertBefore(n,e),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=c.createElement("script");function o(){r._loaded=!0,t&&a(n,"load",t,{once:!0});var e=c.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():a(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){a(c.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}}(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); !function(w) { w._baseURL = '/'; w._publicPath = '/assets/js/'; w._noPushState = false; w._noDrawer = false; w._noNavbar = false; w._noToc = false; w._noSearch = true; w._search = { DATA_URL: '/assets/sitedata.json?no-cache', STORAGE_KEY: 'mini-search/', INDEX_KEY: 'index--2023-01-16T02:35:47+00:00', }; w._clapButton = false; }(window);</script> <script async src="/assets/bower_components/MathJax/es5/tex-mml-chtml.js" id="_MathJax"></script> <!--[if gt IE 8]><!----><style id="_styleInline"> .clearfix,.sidebar-social::after{content:"";display:table;clear:both}.color-transition,.content .avatar,.nav-btn,.nav-btn-bar,.navbar,.message,.note-sm,#markdown-toc,.note,.hr-bottom,.hr-after::after,hr,.hr,p,body{transition:none}html{--font-family: Noto Sans,Helvetica,Arial,sans-serif;--font-family-heading: Roboto Slab,Helvetica,Arial,sans-serif;--code-font-family: ui-monospace,Menlo,Monaco,Cascadia Mono,Segoe UI Mono,Roboto Mono,Oxygen Mono,Ubuntu Monospace,Source Code Pro,Fira Mono,Droid Sans Mono,Courier New,monospace;--body-color: #333;--body-bg: #fff;--border-color: #ebebeb;--gray: #777;--gray-bg: rgba(0,0,0,0.025);--gray-text: #666;--menu-text: #bbb;--inv-body-color: #ccc;--inv-body-bg: #282828;--root-font-size: 15px;--root-font-size-medium: 16px;--root-font-size-large: 17px;--root-font-size-print: 8pt;--root-line-height: 1.75;--font-weight: 400;--font-weight-bold: 700;--font-weight-heading: 700;--content-width-5: 54rem;--content-margin-5: 4rem;--sidebar-width: 21rem;--half-content: 31rem;--break-point-3: 64em;--break-point-5: 86em;--break-point-dynamic: 1664px}html .content{-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-family:var(--font-family);font-size:var(--root-font-size);line-height:var(--root-line-height)}body{color:var(--body-color);background-color:var(--body-bg);font-weight:var(--font-weight);overflow-y:scroll}.content img,.img,.content video,.video{max-width:100%;height:auto}.lead{margin-left:-1rem;margin-right:-1rem;margin-bottom:1.5rem}img.lead,video.lead{display:block;max-width:calc(100% + 2rem);width:calc(100% + 2rem);height:auto}.heading,.f6,h6,.h6,.f5,h5,.h5,.f4,.sidebar-nav-item,h4,.h4,.post-date,.f3,h3,.h3,.f2,h2,.h2,.f1,h1,.h1{font-family:var(--font-family-heading);font-weight:var(--font-weight-heading)}.f1,h1,.h1{font-size:2rem;line-height:1.3}.f2,h2,.h2{font-size:1.5rem;line-height:1.4}.f3,h3,.h3{font-size:1.2em;line-height:1.5}.f4,.sidebar-nav-item,h4,.h4,.post-date{font-size:1.08rem;line-height:1.6}.f5,h5,.h5{font-size:1.04rem;line-height:1.7}.f6,h6,.h6{font-size:1rem}.content h1>a,.content .h1>a{text-decoration:none;border-bottom:none}@media screen and (max-width: 42em){.content h1,.content .h1{font-size:1.7rem;line-height:1.35}}@media screen and (min-width: 86em){.content h1,.content .h1{font-size:2.4rem;line-height:1.25}}@media screen and (min-width: 1664px){body:not(.no-large-headings) .content h1,body:not(.no-large-headings) .content .h1{width:calc(100% + 50vw - 32rem);font-size:3rem;line-height:1.2}}@media screen and (min-width: 124em){body:not(.no-large-headings) .content h1,body:not(.no-large-headings) .content .h1{font-size:4rem;line-height:1.1}}h1,h2,h3,.h1,.h2,.h3{margin:4rem 0 1rem}h4,h5,h6,.h4,.post-date,.h5,.h6{margin:3rem 0 .5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.2em;margin-top:1.5rem;margin-bottom:1.5rem;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr,.hr{border:0;margin:1rem 0;border-top:1px solid var(--border-color)}.hr-after::after{content:"";display:block;margin:1rem 0;border-top:1px solid var(--border-color)}.hr-bottom{border-bottom:1px solid var(--border-color);padding-bottom:.75rem;margin-bottom:1rem}.page{margin-bottom:3em}.page li+li{margin-top:.25rem}.page>header{position:relative;margin-bottom:2rem}@media screen and (min-width: 1664px){body:not(.no-third-column) .page>header>.lead+.note-sm,body:not(.no-third-column) .page>header>.lead+#markdown-toc,body:not(.no-third-column) .page>header>.lead+.note,body:not(.no-third-column) .page>header>a.no-hover+.note-sm,body:not(.no-third-column) .page>header>a.no-hover+#markdown-toc,body:not(.no-third-column) .page>header>a.no-hover+.note{position:absolute;right:-25rem;width:21rem;bottom:0;margin-bottom:0}}.page-title,.post-title{margin-top:0}.post-date{display:flex;justify-content:space-between;margin-top:-.6rem;height:2rem;margin-bottom:.85rem;color:var(--gray)}.post-date>.ellipsis,#breadcrumbs.post-date>ul{cursor:pointer}.post-date [class^="icon-"]{display:inline-block;font-size:smaller;margin-right:.25rem}.related-posts{padding-left:0;list-style:none;margin-bottom:2rem}.related-posts>li,.related-posts>li+li{margin-top:1rem}.message,.note-sm,#markdown-toc,.note{margin-bottom:1rem;padding:1rem;color:var(--gray-text);background-color:var(--gray-bg);margin-left:-1rem;margin-right:-1rem}.note-sm,#markdown-toc,.note{background:transparent;color:var(--body-color);font-size:smaller;border-left:1px solid var(--border-color);padding:1.2rem 1rem 0 1rem;margin:1rem -1rem;position:relative}.note-sm:before,#markdown-toc:before,.note:before{font-size:0.667rem;font-weight:bold;font-style:normal;letter-spacing:.025rem;text-transform:uppercase;color:var(--menu-text);position:absolute;top:0}.note-sm[title]:before,#markdown-toc[title]:before,.note[title]:before{content:attr(title) !important}.note{font-size:1rem}@media screen{body::before{content:'';width:.5rem;background:var(--gray-bg);position:fixed;left:0;top:0;bottom:0}}@media (min-width: 64em){body::before{width:21rem}}@media (min-width: 1664px){body::before{width:calc(50% - 31rem)}}@media screen and (min-width: 42em){html{font-size:var(--root-font-size-medium)}}@media screen and (min-width: 124em){html{font-size:var(--root-font-size-large)}}#breadcrumbs>ul{height:1rem;margin:-1.5rem 0 .5rem;padding:0;font-size:.667rem;color:var(--menu-text);text-transform:uppercase;width:100%;list-style:none}#breadcrumbs>ul>li{display:inline}#breadcrumbs>ul>li a{color:var(--gray);text-decoration:none;border-bottom:none}.fl{float:left}.fr{float:right}.mb4{margin-bottom:4rem}.mb6{margin-bottom:6rem}.mt0{margin-top:0}.mt1{margin-top:1rem}.mt2{margin-top:2rem}.mt3{margin-top:3rem}.mt4{margin-top:4rem}.pb0{padding-bottom:0}.ml1{margin-left:1rem}.mr1{margin-right:1rem}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}.sixteen-ten{position:relative}.sixteen-ten::before{display:block;content:"";width:100%;padding-top:62.5%}.sixteen-ten>*{position:absolute;top:0;left:0;right:0;bottom:0}.four-three{position:relative}.four-three::before{display:block;content:"";width:100%;padding-top:75%}.four-three>*{position:absolute;top:0;left:0;right:0;bottom:0}.sr-only{display:none}.larger{font-size:larger}.smaller{font-size:smaller}.clearfix,.sidebar-social::after{content:"";display:table;clear:both}.ellipsis,#breadcrumbs>ul{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.border{border:1px solid var(--border-color)}@media (min-width: 42em){.border-radius,.lead,.page .aspect-ratio.sixteen-nine.lead{border-radius:.5rem}}.fallback-img{background-position:center;background-repeat:no-repeat;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjkwIiB2aWV3Qm94PSIwIDAgMTYwIDkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuMDQ4ODI4LCAwLCAwLCAwLjA0Nzk5MSwgNTQuOTk5OTczLCAyMC40MjgxNDgpIj4KICAgIDxwYXRoIHN0eWxlPSJmaWxsOnJnYmEoMTI4LDEyOCwxMjgsLjMzKSIgZD0iTTk1OS44ODQgMTI4YzAuMDQwIDAuMDM0IDAuMDgyIDAuMDc2IDAuMTE2IDAuMTE2djc2Ny43N2MtMC4wMzQgMC4wNDAtMC4wNzYgMC4wODItMC4xMTYgMC4xMTZoLTg5NS43N2MtMC4wNDAtMC4wMzQtMC4wODItMC4wNzYtMC4xMTQtMC4xMTZ2LTc2Ny43NzJjMC4wMzQtMC4wNDAgMC4wNzYtMC4wODIgMC4xMTQtMC4xMTRoODk1Ljc3ek05NjAgNjRoLTg5NmMtMzUuMiAwLTY0IDI4LjgtNjQgNjR2NzY4YzAgMzUuMiAyOC44IDY0IDY0IDY0aDg5NmMzNS4yIDAgNjQtMjguOCA2NC02NHYtNzY4YzAtMzUuMi0yOC44LTY0LTY0LTY0djB6Ii8+CiAgICA8cGF0aCBzdHlsZT0iZmlsbDpyZ2JhKDEyOCwxMjgsMTI4LC4zMykiIGQ9Ik04MzIgMjg4YzAgNTMuMDIwLTQyLjk4IDk2LTk2IDk2cy05Ni00Mi45OC05Ni05NiA0Mi45OC05NiA5Ni05NiA5NiA0Mi45OCA5NiA5NnoiLz4KICAgIDxwYXRoIHN0eWxlPSJmaWxsOnJnYmEoMTI4LDEyOCwxMjgsLjMzKSIgZD0iTTg5NiA4MzJoLTc2OHYtMTI4bDIyNC0zODQgMjU2IDMyMGg2NGwyMjQtMTkyeiIvPgogIDwvZz4KPC9zdmc+")}hy-push-state a{color:var(--body-color)}@supports not ((text-decoration-thickness: initial) and (text-underline-offset: initial)){hy-push-state a{text-decoration:none;border-bottom:2px solid}}@supports (text-decoration-thickness: initial) and (text-underline-offset: initial){hy-push-state a{text-decoration-style:solid;text-underline-offset:.35rem;text-decoration-thickness:2px}}hy-push-state a.no-hover{border-bottom:none;text-decoration-thickness:unset;text-underline-offset:unset}.content a:not(.btn):not(.no-hover){border-color:var(--accent-color-faded)}@supports (text-decoration-thickness: initial) and (text-underline-offset: initial){.content a:not(.btn):not(.no-hover){text-decoration-color:var(--accent-color-faded)}}.content .aspect-ratio{overflow:hidden}.content .aspect-ratio img{margin:0;width:100%;height:100%;background-color:var(--gray-bg)}hy-drawer{width:100%;position:relative;overflow:hidden;display:block;z-index:4}@media screen and (min-width: 64em){hy-drawer{position:fixed;width:21rem;top:0;left:0;bottom:0;margin-left:0}hy-drawer.cover{position:relative;width:100%}}@media screen and (min-width: 1664px){hy-drawer{width:calc(50% - 31rem)}}.sidebar{position:relative;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,0.75);text-align:center;min-height:100vh}.sidebar.invert{color:rgba(32,32,32,0.75)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2);text-decoration-color:rgba(255,255,255,0.2)}.sidebar.invert a{color:#222;border-bottom-color:rgba(32,32,32,0.2);text-decoration-color:rgba(32,32,32,0.2)}.sidebar-bg{position:absolute;top:0;left:calc(50% - 50vw);width:100vw;height:100%;background:#202020 center / cover}.sidebar-bg::after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.05)}.sidebar-bg.sidebar-overlay::after{background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 50%, rgba(32,32,32,0) 100%)}.sidebar-sticky{position:relative;z-index:3;max-width:21rem;padding:1.5rem;contain:content}.sidebar-about .avatar{margin-bottom:1.5rem}.sidebar-about>a.sidebar-title{text-decoration:none}.sidebar-about>a.sidebar-title>h2{margin:0;padding-bottom:.5rem}.sidebar-about>a.sidebar-title::after{content:'';display:block;border-bottom:2px solid;margin:0 auto .5rem;width:4rem;border-color:rgba(255,255,255,0.2);transition:border-color 250ms}.sidebar-about>a.sidebar-title:hover::after{border-color:#fff;transition:border-color 50ms}.sidebar.invert .sidebar-about>a.sidebar-title::after{border-color:rgba(32,32,32,0.2)}.sidebar.invert .sidebar-about>a.sidebar-title:hover::after{border-color:#222}.sidebar-nav>ul{list-style:none;padding-left:0}.sidebar-nav-item{display:inline-block;margin-bottom:.5rem}@media (min-width: 64em){#_main.no-drawer #_menu{display:none}#_main.no-drawer .nav-btn-bar>:nth-child(2){border:none}}.sidebar-social>ul{display:inline-block;list-style:none;padding-left:0;margin-bottom:0}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.4rem;width:3rem;height:4rem;padding:.5rem 0;line-height:3rem;text-decoration:none;border-bottom-width:2px;border-bottom-style:solid}.sidebar-social>ul li+li{margin-top:0}.fixed-common,.fixed-bottom,.fixed-top{position:fixed;left:0;width:100%;z-index:2}.fixed-top{top:0}.fixed-bottom{bottom:0}.navbar>.content{position:relative;padding-top:0;padding-bottom:0;min-height:0;max-height:5rem}.nav-btn-bar{margin:0 -1rem;background-color:white;background-color:var(--body-bg);height:5rem;display:flex;align-items:center;position:relative}.nav-btn-bar>:first-child,.nav-btn-bar>:last-child{border:none}.nav-btn{background:none;border:none;text-decoration:none;display:flex;align-items:center;justify-content:center;width:3.25rem;height:5rem;color:var(--menu-text);border-right:1px solid var(--border-color);border-left:1px solid var(--border-color);margin-left:-1px}#markdown-toc{margin:2rem -1rem 2rem calc(-1rem + 1px);padding-left:2.5rem;padding-bottom:.5rem}#markdown-toc:before{left:1rem}@media screen and (min-width: 1664px){body:not(.no-toc) #markdown-toc{position:absolute;z-index:4;width:20.5rem;right:0;margin:auto;overflow:auto}}@media screen and (min-width: 1664px){body.no-break-layout:not(.no-toc) #markdown-toc{width:calc(50% - 31rem)}}.content{margin-left:auto;margin-right:auto;padding:8rem 1rem 12rem}@media screen{.content{padding-left:1.5rem;min-height:100vh}}@media screen and (min-width: 42em){.content{max-width:42rem}}@media screen and (min-width: 54em){.content{max-width:48rem}}@media screen and (min-width: 64em){.content{padding-left:1rem;margin-left:24rem;margin-right:3rem}}@media screen and (min-width: 86em){.content{padding-top:9rem;margin-left:25rem;margin-right:4rem;max-width:54rem}}@media screen and (min-width: 1664px){.content{margin:auto}}.large-only{display:none}@media screen and (min-width: 1664px){.large-only{display:block}}.avatar{width:7rem;height:7rem;border-radius:100%;overflow:hidden;display:inline-block}.avatar img{width:100%}.content .avatar{float:right;box-sizing:content-box;border:1rem solid var(--body-bg);transition:border-color 1s ease;margin-top:-1.5rem;margin-right:-1rem}.note:before{content:"Note"}.page>header>.note-sm:before,.page>header>.note:before,.page>header>#markdown-toc:before{content:"Description"}#markdown-toc:before{content:"Table of Contents"}.layout-resume .note-sm:before,.layout-resume .note:before,.layout-resume #markdown-toc:before{content:"Summary"}html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79,177,186,0.5);--accent-color-highlight: rgba(79,177,186,0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(25,55,71)}</style><link rel="preload" as="style" href="/assets/css/hydejack-9.1.6.css" id="_stylePreload"><link rel="preload" as="style" href="/assets/icomoon/style.css" id="_iconsPreload"><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400%7CNoto+Sans:400,400i,700,700i&display=swap" id="_fontsPreload"> <script> setRel('_stylePreload'); setRel('_iconsPreload'); /**/setRel('_fontsPreload');/**/ </script> <noscript><link rel="stylesheet" href="/assets/css/hydejack-9.1.6.css"><link rel="stylesheet" href="/assets/icomoon/style.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400%7CNoto+Sans:400,400i,700,700i&display=swap"> </noscript> <!--<![endif]--><body class="no-large-headings"> <hy-push-state id="_pushState" replace-selector="#_main" link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)" script-selector="script" duration="500" hashchange ><div id="_navbar" class="navbar fixed-top"><div class="content"> <span class="sr-only">Jump to:</span><div class="nav-btn-bar"> <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened"> <span class="sr-only">Navigation</span> <span class="icon-menu"></span> </a><div class="nav-span"></div></div></div></div><hr class="sr-only" hidden /><main id="_main" class="content layout-post" role="main" ><nav id="breadcrumbs" class="screen-only"><ul><li><a href="/">home</a><li> <span>/</span> <span>vsts-tags-mru-extension-part-2</span></ul></nav><article id="post-vsts-tags-mru-extension-part-2" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> VSTS Tags MRU extension – Part 2</h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2016-02-29T05:46:11+00:00">29 Feb 2016</time> in <span>Blog</span> </span></div><div class="hr pb0"></div></header><p>In the <a href="https://cschleiden.dev/vsts-tags-mru-extension-part-1">last post</a> we ended up with a list of tags a user added last to a work item. The next step is now to keep an MRU list with tags from earlier sessions and update it when new tags are added.<p>Every time the user adds tags to a work item we want to merge these new tags with the (persisted) list of tags. We will keep a maximum of N tags and need to either only add tags to the list (<code class="language-plaintext highlighter-rouge">if |tags| &lt; N</code>), or and and remove (<code class="language-plaintext highlighter-rouge">if |tags| &gt; N</code>), or just reorder the tags in the list, so that the most recently used tags appear first in the final dropdown menu.<h2 id="keeping-mru-list-of-tags">Keeping MRU list of tags</h2><p>We want to store at maximum 5 tags for now, so we add a constant to our app.ts:<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/** Maximum size of MRU */</span>
<span class="kd">const</span> <span class="nx">MAX_TAGS</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>  
</code></pre></div></div><p>And as before, we implement our business logic as a simple singleton:<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Tags</span> <span class="p">{</span>  
  <span class="cm">/** Key used for document service */</span>  
  <span class="kr">private</span> <span class="kd">static</span> <span class="nx">KEY</span><span class="p">:</span> <span class="nx">string</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">tags</span><span class="dl">"</span><span class="p">;</span>  
  <span class="kr">private</span> <span class="kd">static</span> <span class="nx">instance</span><span class="p">:</span> <span class="nx">Tags</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

  <span class="cm">/** Get or create singleton instance */</span>  
  <span class="kr">public</span> <span class="kd">static</span> <span class="nx">getInstance</span><span class="p">():</span> <span class="nx">Tags</span> <span class="p">{</span>  
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">Tags</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>  
      <span class="nx">Tags</span><span class="p">.</span><span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tags</span><span class="p">(</span><span class="nx">MAX_TAGS</span><span class="p">);</span>  
    <span class="p">}</span>
  
    <span class="k">return</span> <span class="nx">Tags</span><span class="p">.</span><span class="nx">instance</span><span class="p">;</span>  
  <span class="p">}</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">maxCount</span><span class="p">:</span> <span class="nx">number</span><span class="p">)</span> <span class="p">{</span>  
  <span class="p">}</span>  
<span class="p">}</span>  
</code></pre></div></div><p>This class needs to keep track of<ul><li>what tags are currently in the MRU list<li>the order of tags</ul><p>While we could maintain a dictionary depicting whether a tag is in the list and a queue with the MRU order, for only 5 tags a simple array is probably be enough.<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">private</span> <span class="nx">queue</span><span class="p">:</span> <span class="nx">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
</code></pre></div></div><p>Now, when we add tag, and it is not in the queue yet, we just add it in front of the queue, or we delete it from its current position in the queue and <strong>then</strong> add it in front of the queue.<p>In order to maintain our maximum of 5 tags, we add another method <em>prune</em>, that removes tags from the end of the queue if the overall count is more than the configured max and call it<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">public</span> <span class="nx">addTag</span><span class="p">(</span><span class="nx">tag</span><span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Remove tag from current position\</span>
  <span class="kd">var</span> <span class="nx">idx</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dict</span><span class="p">[</span><span class="nx">tag</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">idx</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">idx</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Add tag in first position and record position\</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">tag</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">prune</span><span class="p">();</span>
<span class="p">}</span>

<span class="cm">/** Ensure only maximum number of tags configured is stored */</span>
<span class="kr">private</span> <span class="nx">prune</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">maxCount</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;</span><span class="err">#</span><span class="mi">8211</span><span class="p">;</span> <span class="nx">MAX_TAGS</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>For later displaying tags in the context menu, we can just return the current queue which contains our tags in the correct order<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">public</span> <span class="nx">getTags</span><span class="p">():</span> <span class="nx">string</span><span class="p">[]</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="persisting-data-from-an-extension">Persisting Data from an extension</h2><p>The VSTS framework provides the <em><a href="https://www.visualstudio.com/en-us/integrate/extensions/develop/data-storage">ExtensionDataService</a></em> which allows us to store key/value pairs or collections of JSON documents on the VSTS servers. Usage is quite simple, to store a value we just need to get an instance of the service, and call <em>setValue</em> with a key and a value. The value can be as simple as a string, or an JS object that’s transparently serialized to JSON. We can also pass a scope, that limits values either to an <em>“account”</em> or a <em>“user”</em> scope:<p>[code language=”javascript” gutter=”false”]<br /> VSS.getService(VSS.ServiceIds.ExtensionData).then((dataService) =&gt; {<br /> dataService.setValue(“key”, “value”, { scopeType: “User” });<br /> });<br /> [/code]<br /> For the tags extension we want a <em>user</em> scope and our value to store will be an array of strings containing our tags.<h2 id="persisting-tags">Persisting Tags</h2><p>First step is again to add another import to our <em>app.ts</em> file:<p>[code language=”javascript” gutter=”false”]import VSS_Extension_Service = require(“VSS/SDK/Services/ExtensionData”);[/code]<br /> To keep it simple, loading tags is something we’d like to do only once at the beginning of a session, and then save every time tags are added. This way, we might run into conflicts if the user is working with different browser tabs/windows at the same time, but for this sample that last-write-wins concurrency is enough.<p>Using the <em>ExtensionDataService</em> we can modify the <em>getInstance</em> call to retrieve the list of tags from the data service using <em>getValue</em> and add every one using the <em>addTag</em> method we implemented above. Since service calls use Promises, we change <em>getInstance</em> to return a promise instead of a value. If the instance has already been created, we use *Q(<value>)* to return an immediately resolved promise, otherwise we retrieve tags and then create the instance:</value><p>[code language=”javascript” gutter=”false”]<br /> /** Get or create singleton instance */<br /> public static getInstance(): IPromise<Tags> {\ if (Tags.instance) {\ return Q(Tags.instance);\ } else {\ return VSS.getService(VSS.ServiceIds.ExtensionData).then(\ (dataService: VSS_Extension_Service.ExtensionDataService) =&gt; {\ return dataService.getValue(Tags.KEY, {\ defaultValue: \[],\ scopeType: "User"\ }).then((savedTags: string\[]) =&gt; {\ Tags.instance = new Tags(MAX_TAGS);\ if (savedTags) {\ savedTags.forEach(t =&gt; Tags.instance.addTag(t));\ }</Tags><p>return Tags.instance;<br /> });<br /> });<br /> }<br /> }<br /> [/code]<br /> Persisting tags will be done in another method, again getting a service instance (we could cache the instance), and calling then calling <em>setValue</em>. A promise is returned to allow callers to wait for the end of the call:<p>[code language=”javascript” gutter=”false”]<br /> public persist(): IPromise<any> {\ return VSS.getService(VSS.ServiceIds.ExtensionData).then(\ (dataService: VSS_Extension_Service.ExtensionDataService) =&gt; {\ dataService.setValue(Tags.KEY, this.queue, {\ scopeType: "User"\ });\ });\ }\ \[/code]\ Since we do want to show the tag context menu as fast as possible, we will proactively initialized that tag service as soon as the extension file is loaded:</any><p>[code language=”javascript” gutter=”false”]<br /> // Proactively initialize instance and load tags<br /> Tags.getInstance();<br /> [/code]<h2 id="showing-tags-in-work-item-context-menu">Showing Tags in work item context menu</h2><p>We are nearly done,<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Register context menu action\</span>
<span class="nx">VSS</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="dl">"</span><span class="s2">tags-mru-work-item-menu</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span><span class="o">\</span>
<span class="na">getMenuItems</span><span class="p">:</span> <span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="o">\</span>
<span class="k">return</span> <span class="nx">Tags</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">tags</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="o">\</span>
<span class="kd">var</span> <span class="na">childItems</span><span class="p">:</span> <span class="nx">IContributedMenuItem</span><span class="err">\</span><span class="p">[]</span> <span class="o">=</span> <span class="err">\</span><span class="p">[];</span><span class="o">\</span>
<span class="nx">tags</span><span class="p">.</span><span class="nx">getTags</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">tag</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="o">\</span>
<span class="nx">childItems</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">IContributedMenuItem</span><span class="o">&gt;</span><span class="p">{</span><span class="o">\</span>
<span class="na">text</span><span class="p">:</span> <span class="nx">tag</span><span class="p">,</span><span class="o">\</span>
<span class="na">title</span><span class="p">:</span> <span class="err">\</span><span class="s2">`Add tag: </span><span class="p">${</span><span class="nx">tag</span><span class="p">}</span><span class="se">\`</span><span class="s2">,\
action: () =&gt; {});\
});\
});

if (childItems.length === 0) {\
childItems.push(&lt;IContributedMenuItem&gt;{\
title: "No tag added",\
disabled: true\
});\
}

return [&lt;IContributedMenuItem&gt;{\
title: "Recent Tags",\
childItems: childItems\
}]\
});\
});\
});\
</span></code></pre></div></div><h2 id="updating-work-items">Updating work items</h2><p>Final step is to add an action to the child menu items to actually add the tag to all selected work items. First we need to determine the selected work items. Unfortunately, the different VSTS views are not consistent in exposing the ids of selected work items right now. We need to look for different properties in the passed <em>context</em> depending on the view we are in. The logic is:<ul><li><strong>Backlog</strong> – array of numbers called <em>workItemIds</em><li><strong>Boards (Kanban/Iteration)</strong> – single number called <em>id</em><li><strong>Query results</strong> – array of numbers called <em>ids</em></ul><p>To unify in an array called <em>ids</em> we need to add the following code to the beginning of the <em>getMenuItems</em> method:<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Not all areas use the same format for passing work item ids.\</span>
<span class="c1">// "ids" for Queries, "workItemIds" for backlogs, "id" for boards\</span>
<span class="kd">var</span> <span class="nx">ids</span> <span class="o">=</span> <span class="nx">context</span><span class="p">.</span><span class="nx">ids</span> <span class="o">||</span> <span class="nx">context</span><span class="p">.</span><span class="nx">workItemIds</span><span class="p">;</span><span class="o">\</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">ids</span> <span class="o">||</span> <span class="nx">context</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span><span class="o">\</span>
<span class="c1">// Boards only support a single work item\</span>
<span class="nx">ids</span> <span class="o">=</span> <span class="err">\</span><span class="p">[</span><span class="nx">context</span><span class="p">.</span><span class="nx">id</span><span class="p">];</span><span class="o">\</span>
<span class="p">}</span><span class="o">\</span>
</code></pre></div></div><p>Then, in the <em>action</em> handler of our child menu items, we need to:<ol><li>Get the work items<li><p>For each work item<ol><li>Get the existing value for the <em>System.Tags</em> field<li>Concatenate with the tag to add using “;” as separator<li>Update work item</ol></ol><p>Since we are changing work items not opened in any form right now, we need to use the REST API for the update operations. Some additional imports are required:<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">TFS_Wit_Contracts</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">TFS/WorkItemTracking/Contracts</span><span class="dl">"</span><span class="p">);</span><span class="o">\</span>
<span class="k">import</span> <span class="nx">TFS_Wit_Client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">TFS/WorkItemTracking/RestClient</span><span class="dl">"</span><span class="p">);</span><span class="o">\</span>
<span class="k">import</span> <span class="nx">TFS_Wit_Services</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">TFS/WorkItemTracking/Services</span><span class="dl">"</span><span class="p">);</span><span class="o">\</span>
</code></pre></div></div><p>Then we just get an http client and start iterating over the work items:<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Get work items, add the new tag to the list of existing tags, then update\</span>
<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">TFS_Wit_Client</span><span class="p">.</span><span class="nx">getClient</span><span class="p">();</span><span class="o">\</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">getWorkItems</span><span class="p">(</span><span class="nx">ids</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">workItems</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="o">\</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">workItem</span> <span class="k">of</span> <span class="nx">workItems</span><span class="p">)</span> <span class="p">{</span><span class="o">\</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">updateWorkItem</span><span class="p">([{</span><span class="o">\</span>
<span class="dl">"</span><span class="s2">op</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">add</span><span class="dl">"</span><span class="p">,</span><span class="o">\</span>
<span class="dl">"</span><span class="s2">path</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/fields/System.Tags</span><span class="dl">"</span><span class="p">,</span><span class="o">\</span>
<span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:</span> <span class="p">(</span><span class="nx">workItem</span><span class="p">.</span><span class="nx">fields</span><span class="err">\</span><span class="p">[</span><span class="dl">"</span><span class="s2">System.Tags</span><span class="dl">"</span><span class="p">]</span> <span class="o">||</span> <span class="dl">""</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">;</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">tag</span><span class="o">\</span>
<span class="p">}],</span> <span class="nx">workItem</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span><span class="o">\</span>
<span class="p">}</span><span class="o">\</span>
<span class="p">});</span><span class="o">\</span>
</code></pre></div></div><p>(Potential optimization would be to use the batch API for the work item updates instead of making a single call per work item)<h2 id="all-done">All done</h2><p>That’s it. The extension is done, can be published, and should mostly work as designed. I say mostly, because, if you remember, I mentioned earlier that there is one drawback, for which no workaround exists yet: When we add a tag, we need to use the REST API to update the work items. When we do this, the current VSTS view does not know that a work item has been updated, and does not refresh automatically.<p>Ideally, there would be a way to tell VSTS from an extension that a work item has been changed, but no such service is exposed at the moment. This means, users have to manually refresh the view or a specific work item after using the extension to add a new tag. For example like in this short gif (click to view full screen):<p><a href="https://cschleiden.files.wordpress.com/2016/02/add-tag.gif" target="_blank"><img class="aligncenter wp-image-751" src="https://cschleiden.files.wordpress.com/2016/02/add-tag.gif?w=1024" alt="add-tag" width="494" height="331" /></a><p>I do think, however, that the extension still provides value, and will publish it in the marketplace soon. Let me me know in the comments if anything is unclear or doesn’t work.<p>Again, the code is available at <a href="https://github.com/cschleiden/vsts-extension-tags-mru">https://github.com/cschleiden/vsts-extension-tags-mru</a>. Small details might vary, but I mostly tried to keep these posts and the code in sync.</article><hr class="dingbat related mb6" /><aside class="related mb4" role="complementary"><h2 class="hr-bottom">Related Posts</h2><ul class="related-posts"><li class="h4"> <a href="/blog/2023-01-11-effective-workflow/" class="flip-title"><span>Effective Workflow GitHub CLI extension</span></a> <time class="faded fine" datetime="2023-01-11T00:00:00+00:00">11 Jan 2023</time><li class="h4"> <a href="/blog/2022-05-02-go-workflows-part2/" class="flip-title"><span>go-workflows: Durable Workflows in Go Part 2</span></a> <time class="faded fine" datetime="2022-05-02T00:00:00+00:00">02 May 2022</time><li class="h4"> <a href="/blog/2022-04-08-task-queue-with-redis/" class="flip-title"><span>Simple task queue with Redis Streams</span></a> <time class="faded fine" datetime="2022-04-08T16:30:00+00:00">08 Apr 2022</time></ul></aside><footer class="content" role="contentinfo"><hr/><p><small class="copyright">© 2023 Christopher Schleiden. All rights reserved. </small><p><small>Powered by <a class="external" href="https://hydejack.com/">Hydejack</a> v<span id="_version">9.1.6</span></small><hr class="sr-only"/></footer></main><hy-drawer id="_drawer" class="" side="left" threshold="10" noscroll ><header id="_sidebar" class="sidebar" role="banner"><div class="sidebar-bg sidebar-overlay" style="background-color:rgb(25,55,71);background-image:url(/assets/img/sidebar-bg.jpg)"></div><div class="sidebar-sticky"><div class="sidebar-about"> <a class="no-hover" href="/" tabindex="-1"> <img src="/assets/icons/icon.png" class="avatar" alt="cschleiden" width="120" height="120" loading="lazy" /> </a> <a class="sidebar-title" href="/"><h2 class="h1">cschleiden</h2></a><p class="fine"> Software engineer at GitHub, previously at MSFT. Born and raised in Cologne, Germany. Loves climbing mountains in the PNW!</div><nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span><ul><li> <a id="_drawer--opened" href="/" class="sidebar-nav-item " > Blog </a><li> <a href="/projects" class="sidebar-nav-item " > Projects </a><li> <a href="/about" class="sidebar-nav-item " > About </a></ul></nav><div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://twitter.com/cschleiden" title="Twitter" class="no-mark-external"> <span class="icon-twitter"></span> <span class="sr-only">Twitter</span> </a><li> <a href="https://github.com/cschleiden" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="https://www.linkedin.com/in/cschleiden" title="LinkedIn" class="no-mark-external"> <span class="icon-linkedin2"></span> <span class="sr-only">LinkedIn</span> </a></ul></div></div></header></hy-drawer><hr class="sr-only" hidden /> </hy-push-state> <!--[if gt IE 10]><!----> <script nomodule>!function(){var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())}(); </script> <script src="/assets/js/hydejack-9.1.6.js" type="module"></script> <script src="/assets/js/LEGACY-hydejack-9.1.6.js" nomodule defer></script> <script>!function(w, d) { w.ga=w.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; /**/ ga('create', 'UA-143333457-1', 'auto'); /**/ var pushStateEl = d.getElementById('_pushState'); var timeoutId; pushStateEl.addEventListener('hy-push-state-load', function() { w.clearTimeout(timeoutId); timeoutId = w.setTimeout(function() { ga('set', 'page', w.location.pathname); ga('send', 'pageview'); }, 500); }); d.addEventListener('hy--cookies-ok', function () { w.ga(function(tracker) { w.ga("set", "anonymizeIp", undefined); localStorage && localStorage.setItem("ga--client-id", tracker.get("clientId")); }); }); w.loadJSDeferred('https://www.google-analytics.com/analytics.js'); }(window, document);</script> <!--<![endif]--><div hidden><h2 class="sr-only">Templates (for web app):</h2><template id="_animation-template"><div class="animation-main fixed-top"><nav id="breadcrumbs" class="screen-only"><ul></ul></nav><div class="content"><div class="page"></div></div></div></template> <template id="_loading-template"><div class="loading nav-btn fr"> <span class="sr-only">Loading…</span> <span class="icon-cog"></span></div></template> <template id="_error-template"><div class="page"><h1 class="page-title">Error</h1><p class="lead"> Sorry, an error occurred while loading <a class="this-link" href=""></a>.</div></template> <template id="_permalink-template"> <a href="#" class="permalink"> <span class="sr-only">Permalink</span> <span class="icon-link"></span> </a> </template></div></html>
